var g=Object.defineProperty;var b=(n,s,t)=>s in n?g(n,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[s]=t;var i=(n,s,t)=>b(n,typeof s!="symbol"?s+"":s,t);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function t(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(e){if(e.ep)return;e.ep=!0;const r=t(e);fetch(e.href,r)}})();const m=".circular-progress-bar{padding:26px;border-radius:24px;background-color:var(--card-background-color)}@media (orientation: landscape){.circular-progress-bar{width:568px;height:320px}}@media (orientation: portrait){.circular-progress-bar{width:320px;height:568px}}.circular-progress-bar__wrapper{width:100%;height:100%;position:relative;display:flex;justify-content:center;align-items:center;gap:90px}@media (orientation: landscape){.circular-progress-bar__wrapper{flex-direction:row}}@media (orientation: portrait){.circular-progress-bar__wrapper{flex-direction:column}}::slotted(.circular-progress-bar__title){position:absolute;top:0;left:0;font-weight:400}";function d(n){return n===""||n==="true"}const l=["value","animate","hide"],f=`<form class="circular-progress-bar__settings">
  <div class="circular-progress-bar__value">
    <input type="number" id="value" name="value" min="0" max="100" />
    <label for="value">Value</label>
  </div>

  <div class="circular-progress-bar__animate">
    <input type="checkbox" id="animate" name="animate" value="true" />
    <label class="toggle-label" for="animate">Animate</label>
  </div>

  <div class="circular-progress-bar__hide">
    <input type="checkbox" id="hide" name="hide" value="true" />
    <label class="toggle-label" for="hide">Hide</label>
  </div>
</form>
`,v='.circular-progress-bar__settings{display:flex;flex-direction:column;gap:8px}.circular-progress-bar__value,.circular-progress-bar__animate,.circular-progress-bar__hide{display:flex;align-items:center;gap:20px}input[type=checkbox]{margin:0;padding:0;display:inline-block;position:relative;width:50px;height:30px;border-radius:100px;background-color:var(--base-accent-color);transition:.5s;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}input[type=checkbox]:after{content:"";width:24px;height:24px;border-radius:100px;top:3px;left:3px;background-color:#fff;position:absolute;transition:.5s}input[type=checkbox]:checked{background-color:var(--accent-color)}input[type=checkbox]:checked:after{left:calc(100% - 3px);transform:translate(-100%)}input[type=number]{margin:0;padding:2px 0 0;width:50px;height:30px;border-radius:100px;font-size:18px;text-align:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;border:none;background-color:var(--base-accent-color)}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}';class y extends HTMLElement{constructor(){super();i(this,"isRendered",!1)}static get observedAttributes(){return l}connectedCallback(){if(!this.isRendered){const t=this.attachShadow({mode:"open"});t.innerHTML=`
        <style>${v}</style>
        ${f}
      `,this.filterValueControl();const a=t.querySelector(".circular-progress-bar__settings");a.addEventListener("submit",e=>{e.preventDefault()}),a.addEventListener("input",()=>{this.filterValueControl();const e=this.getFormValue(a);this.dispatchEvent(new CustomEvent("settings",{detail:{value:e},bubbles:!0,composed:!1}))}),this.isRendered=!0}}attributeChangedCallback(t,a,e){setTimeout(()=>{const r=this.shadowRoot;if(r){const o=r.querySelector(".circular-progress-bar__settings"),c=r.querySelector(`input[name="${t}"]`);t==="value"?c.value=e:c.checked=d(e),o.dispatchEvent(new Event("input"))}},0)}getFormValue(t){const a=new FormData(t),e={};for(const r of l){const o=a.get(r)||"false";e[r]=o}return e}filterValueControl(){const t=this.shadowRoot;if(t){const a=t.querySelector('input[name="value"]'),e=a.value,r=+e;r<0?a.value="0":r>100?a.value="100":/(^0\.\d*$)|(^[1-9]\d*\.?\d*$)|^0$/.test(e)||(a.value=r.toString())}}}customElements.define("circular-progress-bar-settings",y);const _={value:0,isAnimated:!1,isHidden:!1},w=new Map([["value","value"],["is-animated","isAnimated"],["is-hidden","isHidden"]]),x=new Map([["value","value"],["animate","is-animated"],["hide","is-hidden"]]),k="white",E="@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.circular-progress-bar-loader{transform:rotate(-90deg);transition:opacity .4s linear}.circular-progress-bar-loader_hidden{opacity:0}.circular-progress-bar-loader__arc{stroke:var(--accent-color);stroke-width:10px;animation:rotate 2s linear infinite;animation-play-state:paused;transform-origin:center}.circular-progress-bar-loader__arc_animated{animation-play-state:running}.circular-progress-bar-loader__background{stroke:var(--base-accent-color);stroke-width:10px}",C=`<svg class="circular-progress-bar-loader" width="120" height="120">
  <circle class="circular-progress-bar-loader__background" cx="60" cy="60" r="55" fill="transparent" />
  <circle class="circular-progress-bar-loader__arc" cx="60" cy="60" r="55" fill="transparent" />
</svg>`;class T extends HTMLElement{constructor(){super();i(this,"state",_);i(this,"arc",null);i(this,"circle",null);i(this,"isRendered",!1);i(this,"basePath","circular-progress-bar-loader")}get html(){return`
        <style>${E}</style>
        ${C} 
      `}static get observedAttributes(){return["value","is-animated","is-hidden"]}connectedCallback(){if(!this.isRendered){const t=this.attachShadow({mode:"open"});t.innerHTML=this.html,this.render(),this.isRendered=!0}}attributeChangedCallback(t,a,e){const r=w.get(t);this.updateProperty(r,e),this.render()}updateProperty(t,a){const e=t==="value"?+a:d(a);this.state[t]=e}render(){const t=this.shadowRoot;if(t){const a=t.querySelector(`.${this.basePath}`),e=t.querySelector(`.${this.basePath}__arc`);if(this.circle=a,this.arc=e,!this.arc||!this.circle)return;const r=2*Math.PI*this.arc.r.baseVal.value;this.arc.style.strokeDasharray=`${r*this.state.value/100} ${r}`,this.circle.classList.toggle(`${this.basePath}_hidden`,this.state.isHidden),this.arc.classList.toggle(`${this.basePath}__arc_animated`,this.state.isAnimated)}}}customElements.define("circular-progress-bar-loader",T);class R extends HTMLElement{constructor(){super();i(this,"isRendered",!1);i(this,"settingsEventHandler",this.handleSettingsEvent.bind(this));const t=this.attachShadow({mode:"open"});t.innerHTML=this.html}get html(){return`
      <style>${m}</style>
      <article class='circular-progress-bar'>
        <div class='circular-progress-bar__wrapper'>
          <slot name='title'></slot>
          <slot name='loader'></slot>
          <slot name='settings'></slot>
        </div>
      </article>
    `}static get observedAttributes(){return["color"]}connectedCallback(){this.isRendered||(this.shadowRoot.addEventListener("settings",this.settingsEventHandler),this.isRendered=!0)}disconnectedCallback(){this.shadowRoot.removeEventListener("settings",this.settingsEventHandler)}attributeChangedCallback(t,a,e){const o=this.shadowRoot.querySelector(".circular-progress-bar");if(!o){console.error("Couldn't locate a card component within template. Make sure you've passed it.");return}o.style.backgroundColor=e||k}handleSettingsEvent(t){const e=t.detail.value,o=this.shadowRoot.querySelector('slot[name="loader"]');if(!o){console.error("Couldn't locate 'loader' slot within <circular-progress-bar> component. Make sure you've specified it.");return}const c=o.assignedElements()[0];if(!c){console.error("Couldn't locate any component within 'loader' slot. Make sure you've passed it.");return}for(const[u,p]of Object.entries(e)){const h=x.get(u);c.setAttribute(h,p)}}}customElements.define("circular-progress-bar",R);
